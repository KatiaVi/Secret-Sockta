<!DOCTYPE html>
<html lang="en" ng-app>
    <head>
        <title>Create</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular.min.js"></script>
                <link rel="stylesheet" type="text/css" href="css/pages.css"/>
                <link rel="stylesheet" type="text/css" href="css/fallingsnow.css"/>
         <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
	
    </head>

	<body>
		<div id="igloo"><center><a href="homepage.html"><img src="img/pixelgoo.png" /><br/>Home</a></center></div>
		 <div id="snowflakeContainer">
		   <p class="snowflake">*</p>
	   </div>

	<div class="content">	
 		<p class="title">Create Group</p>
		<div id="forms">
		<form id='sampleform' method='post' action='' onsubmit="javascript:submit_form()" >
   			<p>
   			<label>
	   			Name: <input type='text' name='Name' required />
	   		</label>
			</p>
			<p>
	   		<label>
	   			Email: <input type='email' name='Email' required />
	   		</label>
			</p>
			<p>
	   		<label>
	   			Password: <input type='password' name='Password' required />
	   		</label>
			</p>	 
			<p>
	   		<label>
	   			Group Name: <input type='text' name='GroupName' required />
	   		</label>
			</p>
	   		<h2>Wish List</h2>

	   		<ol>
	  			<li><p> <input type='text' name='Gift[]'/>
	   		</p></li>
	 			<li><p><input type='text' name='Gift[]'/></p></li>
	  			<li><p><input type='text' name='Gift[]'/></p></li>
			</ol>

	   		<p>
				<center><input type='submit' name='createGroup' value='Create Group' /></center>
	   		</p>
		</form>
		</div>
	</div>
	

	</body>
	 <script>
   
        var submit_form = function() {
        	var options = $("#sampleform").serializeArray();
        	console.log(options);
        	var data = {};
        	for(var i=0; i<options.length; i++) {
        		data[options[i]["name"]] = options[i]["value"];
        	}
        	console.log(data);
        	/*window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, function(fileSystem) {
        		fileSystem.root.getFile("data2.json", { create: true, exclusive: false }, function(fileEntry) {
        			fileEntry.createWriter(function(writer) {
        				writer.onwrite = function(e) {
        					console.log("Success.");
        				}	
        				writer.write(JSON.stringify(data));
        			});
        		});
        	}, function() {
        		console.err("Your browser doesn't support this.");
        	});*/
			$.post("/createGroup", data, function(result) {
				console.log(result);
				location.href = "displaycode.html";
			});
        };
    </script>
    <script type="text/javascript" src="js/fallingsnow.js"></script>
</html>
